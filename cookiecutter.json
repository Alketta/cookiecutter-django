{
    "name": "myapp",
    "py_ver": "3.8",
    "nginx_in_dev": "y",
    "ssl_in_dev": "y",
    "django_ver": "2.2.4",
    "django_ver_1": "{{cookiecutter.django_ver[0:3]}}",
    "git_ns": "{{cookiecutter.name}}-group",
    "lname": "{{cookiecutter.name|lower}}",
    "out_dir": ".",
    "tld_domain": "example.com",
    "app_type": "django",
    "use_submodule_for_deploy_code": "y",

    "dev_domain": "dev-{{cookiecutter.lname}}.{{cookiecutter.tld_domain}}",
    "qa_domain": "qa-{{cookiecutter.lname}}.{{cookiecutter.tld_domain}}",
    "staging_domain": "staging-{{cookiecutter.lname}}.{{cookiecutter.tld_domain}}",
    "prod_domain": "{{cookiecutter.lname}}.{{cookiecutter.tld_domain}}",
    "dev_alternate_domains": "www.{{cookiecutter.dev_domain}}",
    "qa_alternate_domains": "www.{{cookiecutter.qa_domain}}",
    "staging_alternate_domains": "www.{{cookiecutter.staging_domain}}",
    "prod_alternate_domains": "www.{{cookiecutter.prod_domain}}",

    "staging_host": "{{cookiecutter.staging_domain.replace('-{0}.'.format(cookiecutter.lname), '-docker-{0}.'.format(cookiecutter.lname))}}",
    "qa_host": "{{cookiecutter.qa_domain.replace('-{0}.'.format(cookiecutter.lname), '-docker-{0}.'.format(cookiecutter.lname))}}",
    "dev_host": "{{cookiecutter.dev_domain.replace('-{0}.'.format(cookiecutter.lname), '-docker-{0}.'.format(cookiecutter.lname))}}",
    "prod_host": "{{cookiecutter.prod_domain.replace('-{0}.'.format(cookiecutter.lname), '-docker-{0}.'.format(cookiecutter.lname))}}",
    "staging_branch": "staging",
    "dev_branch": "dev",
    "prod_branch": "prod",
    "qa_branch": "qa",
    "staging_port": "22",
    "remove_cron": "",
    "enable_cron": "",
    "qa_port": "22",
    "dev_port": "22",
    "django_project_name": "{{cookiecutter.lname}}",
    "prod_port": "22",
    "django_settings": "{{cookiecutter.django_project_name}}.settings",
    "mail_domain": "{{cookiecutter.tld_domain }}",
    "infra_domain": "{{cookiecutter.tld_domain }}",
    "git_server": "gitlab.{{cookiecutter.infra_domain}}",
    "git_project_server": "{{cookiecutter.git_server}}",
    "git_scheme": "https",
    "git_user": "",

    "test_tests": "y",
    "test_linting": "y",
    "haproxy": "",
    "git_url": "{{cookiecutter.git_scheme}}://{%if cookiecutter.git_user%}{{cookiecutter.git_user}}@{%endif%}{{cookiecutter.git_project_server}}",
    "git_project": "{{cookiecutter.lname}}",
    "git_project_url": "{{cookiecutter.git_scheme}}://{%if cookiecutter.git_user%}{{cookiecutter.git_user}}@{%endif%}{{cookiecutter.git_project_server}}/{{cookiecutter.git_ns}}/{{cookiecutter.git_project}}",
    "fname_slug": "{{'{0}-{1}'.format(cookiecutter.git_ns, cookiecutter.lname)|lower|replace('/', '-')|replace('_', '-')}}",
    "runner": "<your ci runner>",
    "runner_tag": "{{cookiecutter.fname_slug}}-ci",
    "deploy_project_url": "https://github.com/corpusops/{{cookiecutter.app_type}}-deploy-common.git",
    "deploy_project_dir": "local/{{cookiecutter.deploy_project_url.split('/')[-1].replace('.git', '')}}",
    "with_sentry": "y",
    "docker_registry": "registry.{{cookiecutter.infra_domain}}",
    "registry_is_gitlab_registry": "{% if 'gitlab.com' in cookiecutter.docker_registry%}y{%endif%}",
    "simple_docker_image": "{{cookiecutter.git_ns.split('/')[0].lower()}}/{{cookiecutter.lname}}",
    "docker_image": "{%if cookiecutter.docker_registry%}{{cookiecutter.docker_registry}}/{%endif%}{{cookiecutter.simple_docker_image}}",
    "db_mode": "postgis",
    "generic_db_mode": "{{ {'postgres': 'postgres', 'postgis': 'postgres'}.get(cookiecutter.db_mode, cookiecutter.db_mode)}}",
    "tz": "Europe/Paris",
    "use_i18n": "y",
    "use_l10n": "y",
    "registry_user": "{%if cookiecutter.registry_is_gitlab_registry%}gitlab-ci-token{%endif%}",
    "registry_password": "{%if cookiecutter.registry_is_gitlab_registry%}$CI_JOB_TOKEN{%endif%}",
    "statics_uri": "/static",
    "media_uri": "/media",
    "use_tz": "y",
    "language_code": "fr-fr",
    "rabbitmq_image": "corpusops/rabbitmq:3",
    "with_minio": "",
    "with_toolbar": "y",
    "with_djextensions": "y",
    "with_celery": "",
    "celery_broker": "rabbitmq",
    "celery_version": ">=4.3.0,<5",
    "celery_results_version": ">=1.0.4,<2.0",
    "celery_beat_version": ">=1.5.0,<2.0",
    "postgis_image": "corpusops/postgis:13-3",
    "postgresql_image": "corpusops/postgres:13",
    "postgres_image": "{{cookiecutter.postgresql_image}}",
    "mysql_image": "corpusops/mysql",
    "memcached_image": "corpusops/memcached:alpine",
    "redis_image": "corpusops/redis:4.0-alpine",
    "nginx_image": "corpusops/nginx:1.19-alpine",
    "user_model": "",
    "settings_account_default_http_protocol": "http",
    "settings_use_x_forwarded_host": "y",
    "settings_secure_ssl_redirect": "y",
    "git_project_https_url": "{{cookiecutter.git_project_url.replace('ssh', 'https').replace('git@', '')}}",
    "settings_csrf_cookie_httponly": "y",
    "no_lib": "",
    "gunicorn_class": "gevent",
    "dbsmartbackup_image": "{% if cookiecutter.db_mode == 'postgis' %}{% set pref=cookiecutter.postgis_image.replace('postgis', 'postgres').split('-')[0]%}{% elif 'postgres' in cookiecutter.db_mode %}{% set pref=cookiecutter.postgresql_image%}{% elif cookiecutter.db_mode == 'mysql' %}{% set pref=cookiecutter.mysql_image%}{% endif %}{{pref.replace(':', '::').replace('/', '/dbsmartbackup:').replace('::', '-')}}",
    "cache_system": "redis",
    "cache_image": "{{cookiecutter['{0}_image'.format(cookiecutter.cache_system)]}}",
    "psycopg_req": "==2.8.*",
    "session_engine_base": "django.contrib.sessions.backends.db",
    "session_engine_prod": "{{cookiecutter.session_engine_base}}",
    "memcached_key_prefix": "{{cookiecutter.lname}}",
    "with_apptest": "",
    "with_postgist_test": "y",
    "with_drf": "y",
    "with_ftp": "",
    "ftp_root": "/ftp",
    "ftp_port": "21",
    "ftp_int_port": "{{cookiecutter.ftp_port}}",
    "ftp_port_range_start": "12300",
    "ftp_port_len": "100",
    "ftp_port_range": "{{cookiecutter.ftp_port_range_start}}:{{(cookiecutter.ftp_port_range_start|int)+(cookiecutter.ftp_port_len|int)}}",
    "with_ia_libs": "",
    "cache_only_in_prod": "",
    "with_bundled_front": "",
    "with_reset_stagingprod_jobs": "",
    "node_version": "10.16.0",
    "node_image": "corpusops/node:{{'.'.join(cookiecutter.node_version.split('.')[:2])}}",
    "with_yarn": "",
    "js_artefacts": "src/*/static",
    "no_private": "",
    "base_image": "corpusops/ubuntu-bare:20.04",
    "registry_image": "registry:2",
    "compose_image": "docker/compose:1.27.4",
    "docker_test_image": "busybox",
    "dind_image": "docker:dind",
    "gitlabci_envs": "{% set r = [] %}{% for i in ['dev', 'qa', 'staging', 'prod']%}{% if cookiecutter[i+'_host'] %}{% set _ = r.append(i)%}{%endif%}{%endfor%}{{r|join(' ')}}",
    "gitlabci_image": "{{cookiecutter.compose_image}}",
    "corpusops_image": "corpusops/ubuntu:20.04",
    "deploy_playbook": ".ansible/playbooks/app.yml",
    "with_pil": "y",
    "with_black": "y",
    "with_sphinx": "y",
    "db_out_port": "{% if 'post' in cookiecutter.db_mode or 'pg' in cookiecutter.db_mode%}5436{% elif cookiecutter.db_mode == 'mysql' %}3310{% endif %}"
}
